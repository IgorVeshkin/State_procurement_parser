# Проект парсинга данных с сайта государственных закупок (ЕИС)

## Описание
В рамках проекта был реализован функционал парсинга ссылок печатных форм с дальнейшем парсингом их данных в формате xml-документа

## Основные технологии проекта
Язык программирования: `Python 3.12`

Проект был разработан с использованием библиотек `BeautifulSoup4`, `Selenium`, `requests` и `xmltodict`

Для организации выполнения задач в очереди использовались библиотеки `celery` и `redis`

## Установка проекта
Выполните команду `pip install -r requirements.txt` для установки всех зависимойстей проекта в виртуальную среду

## Настройка Celery
Для работы с Celery необходимо установить библиотеки с помощью команды: `pip install celery redis`

Или выполнить команду из раздела `Установка проекта`

Если используется `backend` в виде `sql` базы данных, необходимо установить библиотеку `sqlalchemy`: `pip install sqlalchemy`

В рамках проекта используется `redis` как стандарный `broker`. Он развернут локально, как порт на `Windows`

Ссылка на скачивание windows-порта `redis`: [Redis](https://github.com/tporadowski/redis/releases/tag/v5.0.14.1)

В распакованной директории с `redis` открыть командную строку `windows` и выполнить команду: `redis-server.exe`

Если локальный сервер не будет запущен, возможно порт используемый по умолчанию может быть занят

Запуск с любым другим портом: `redis-server.exe --port 1212`

Предварительно может понадобиться выполнение команд: `redis-server.exe redis.windows.conf` и/или `redis-server.exe redis.windows-service.conf`

Для запуска `worker` необходимо использовать команду (в терминале в виртальном окружении проекта): `celery -A celery_v1 worker --loglevel=info -P solo`


## Скрипты проекта

Всего проект состоит из 4 скриптов

__parser_v1.py__ </br>
- __Описание:__ Скрипт используется для парсинга страницы с государственными заказами и последующим парсингом печатных форм в формате html-страницы с xml-контентом.
- __Особенности:__ Для парсинга используется библиотека `requests`. Количество перезапусков при парсинге xml-данных состовляет один. Быстрое выполнение парсинга

__parser_v2.py__ </br>
- __Описание:__ Скрипт используется для парсинга страницы с государственными заказами и последующим парсингом печатных форм в формате html-страницы с xml-контентом.
- __Особенности:__ Для парсинга используется библиотека `Selenium`. Количество перезапусков при парсинге xml-данных состовляет 5 либо может быть задано другое число. Более меднее выполнение, но при этом более стаблиьное по сравнению с `parser_v1.py`

__celery_v1.py__ </br>
- __Описание:__ В скрипте описываются задачи применяемы в файлах парсеров 

__celery_v1_executable.py__ </br>
- __Описание:__ Скрипт запускает выполнение задач, описанных в `celery_v1.py`
